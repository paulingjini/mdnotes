<!-- Settings Modal -->
<div class="modal" id="settingsModal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">‚öôÔ∏è Settings</div>
            <button class="icon-btn" onclick="app.closeModal()">
                <svg class="icon"><use href="#icon-close"></use></svg>
            </button>
        </div>

        <div class="form-group">
            <label>App Name</label>
            <input type="text" id="appNameInput" onchange="app.setAppName(this.value)">
        </div>

        <div class="form-group">
            <label>Toolbar Style</label>
            <select id="toolbarStyleSelect" onchange="app.setToolbarStyle(this.value)">
                <option value="icon-only">Icon Only</option>
                <option value="icon-text">Icon & Text</option>
                <option value="text-only">Text Only</option>
            </select>
        </div>

        <div class="form-group">
            <label>Theme</label>
            <div style="margin:10px 0">
                <div class="theme-preset active" data-theme="dark" style="background:linear-gradient(to right,#1e1e1e,#2d2d30)" onclick="app.setTheme('dark')"></div>
                <div class="theme-preset" data-theme="light" style="background:linear-gradient(to right,#fff,#f0f0f0)" onclick="app.setTheme('light')"></div>
                <div class="theme-preset" data-theme="dracula" style="background:linear-gradient(to right,#282a36,#44475a)" onclick="app.setTheme('dracula')"></div>
                <div class="theme-preset" data-theme="nord" style="background:linear-gradient(to right,#2e3440,#3b4252)" onclick="app.setTheme('nord')"></div>
                <div class="theme-preset" data-theme="monokai" style="background:linear-gradient(to right,#272822,#3e3d32)" onclick="app.setTheme('monokai')"></div>
            </div>
        </div>

        <div class="form-group">
            <label>Font</label>
            <select id="fontSelect" onchange="app.setFont(this.value)">
                <option value="'Consolas',monospace">Consolas</option>
                <option value="'Fira Code',monospace">Fira Code</option>
                <option value="'Source Code Pro',monospace">Source Code Pro</option>
                <option value="'JetBrains Mono',monospace">JetBrains Mono</option>
                <option value="'Roboto Mono',monospace">Roboto Mono</option>
            </select>
        </div>

        <div class="form-group">
            <label>Font Size</label>
            <select id="sizeSelect" onchange="app.setFontSize(this.value)">
                <option>11px</option>
                <option>12px</option>
                <option selected>13px</option>
                <option>14px</option>
                <option>15px</option>
                <option>16px</option>
                <option>18px</option>
            </select>
        </div>

        <div class="modal-actions">
            <button class="btn" onclick="app.closeModal()">Close</button>
        </div>
    </div>
</div>

<!-- New File Modal -->
<div class="modal" id="newFileModal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">New File</div>
            <button class="icon-btn" onclick="app.closeModal()">
                <svg class="icon"><use href="#icon-close"></use></svg>
            </button>
        </div>
        <div class="form-group">
            <label>Filename:</label>
            <input type="text" id="newFileName" placeholder="filename.md" onkeypress="if(event.key==='Enter') app.createFile()">
        </div>
        <div class="modal-actions">
            <button class="btn" onclick="app.closeModal()">Cancel</button>
            <button class="btn" onclick="app.createFile()">Create</button>
        </div>
    </div>
</div>

<!-- Presentation Templates Modal -->
<div class="modal" id="templatesModal">
    <div class="modal-content" style="min-width:600px">
        <div class="modal-header">
            <div class="modal-title">üìã Presentation Templates</div>
            <button class="icon-btn" onclick="app.closeModal()">
                <svg class="icon"><use href="#icon-close"></use></svg>
            </button>
        </div>
        <div class="form-group">
            <label>Template:</label>
            <select id="templateSelect">
                <option value="basic">Basic Presentation</option>
                <option value="principles">7 Key Principles</option>
                <option value="timeline">Timeline & Gantt Charts</option>
                <option value="charts">Chart Examples</option>
            </select>
        </div>
        <div class="form-group">
            <label>Reveal.js Theme:</label>
            <select id="revealThemeSelect">
                <option value="black">Black (Default)</option>
                <option value="white">White</option>
                <option value="league">League</option>
                <option value="sky">Sky</option>
                <option value="beige">Beige</option>
                <option value="serif">Serif</option>
                <option value="simple">Simple</option>
                <option value="solarized">Solarized</option>
                <option value="night">Night</option>
                <option value="moon">Moon</option>
            </select>
        </div>
        <div class="modal-actions">
            <button class="btn" onclick="app.closeModal()">Cancel</button>
            <button class="btn" onclick="app.applyTemplateAndSettings()">Apply</button>
        </div>
    </div>
</div>

<!-- Help Modal -->
<div class="modal" id="helpModal">
    <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
        <div class="modal-header">
            <div class="modal-title">üí° Help & Complete Guide</div>
            <button class="icon-btn" onclick="app.closeModal()">
                <svg class="icon"><use href="#icon-close"></use></svg>
            </button>
        </div>

        <h2>üöÄ Welcome to MDNotes Pro v2.1.0</h2>
        <p>A professional, production-ready markdown editor with advanced presentation, visualization, and file management capabilities.</p>

        <h2>üìÅ File Management (Notion-style)</h2>
        <h3>Organizing Files</h3>
        <ul>
            <li><b>Create Folders:</b> Click ‚ûï on any folder to create subfolders</li>
            <li><b>Move Files:</b> Drag and drop files into folders</li>
            <li><b>Rename/Delete:</b> Use ‚úèÔ∏è and üóëÔ∏è buttons on folders</li>
            <li><b>Expand/Collapse:</b> Click ‚ñ∂/‚ñº to toggle folder visibility</li>
        </ul>
        <h3>Tags & Organization</h3>
        <ul>
            <li><b>Add Tags:</b> Click üè∑Ô∏è on any file to add color-coded tags</li>
            <li><b>Favorites:</b> Click ‚òÜ to mark important files (shows ‚≠ê)</li>
            <li><b>Archive:</b> Click üì¶ to archive old files</li>
            <li><b>Search:</b> Use the search box to find files by name, content, or tags</li>
        </ul>

        <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
        <table style="width:100%; margin:10px 0;">
            <tr><td><kbd>Ctrl/Cmd + S</kbd></td><td>Save current file</td></tr>
            <tr><td><kbd>Ctrl/Cmd + N</kbd></td><td>Create new file</td></tr>
            <tr><td><kbd>Ctrl/Cmd + B</kbd></td><td>Bold text</td></tr>
            <tr><td><kbd>Ctrl/Cmd + I</kbd></td><td>Italic text</td></tr>
            <tr><td><kbd>Ctrl/Cmd + K</kbd></td><td>Insert link</td></tr>
            <tr><td><kbd>F11</kbd></td><td>Toggle fullscreen</td></tr>
        </table>

        <h2>üìù Markdown Syntax Guide</h2>
        <h3>Text Formatting</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
# Heading 1
## Heading 2
### Heading 3

**bold text**
*italic text*
***bold and italic***
~~strikethrough~~
`inline code`

> Blockquote
> Multiple lines</pre>

        <h3>Lists</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
Unordered list:
- Item 1
- Item 2
  - Nested item

Ordered list:
1. First item
2. Second item
3. Third item

Task list:
- [ ] Todo item
- [x] Completed item</pre>

        <h3>Links & Images</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
[Link text](https://example.com)
![Image alt text](image-url.jpg)
[Link with title](url "Title on hover")</pre>

        <h3>Tables</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Cell 1   | Cell 2   | Cell 3   |
| Data A   | Data B   | Data C   |

‚ú® Tables are interactive! Click headers to sort,
use filter box to search, export to CSV.</pre>

        <h3>Code Blocks</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```javascript
function hello() {
    console.log("Hello World!");
}
```

Supports: javascript, python, java, cpp, html,
css, sql, bash, and many more languages.</pre>

        <h2>üìä Mermaid Diagrams</h2>
        <h3>Flowchart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```mermaid
graph TD
    A[Start] --> B{Decision}
    B -->|Yes| C[Action 1]
    B -->|No| D[Action 2]
    C --> E[End]
    D --> E
```</pre>

        <h3>Sequence Diagram</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```mermaid
sequenceDiagram
    Alice->>John: Hello John!
    John-->>Alice: Hi Alice!
    Alice->>John: How are you?
```</pre>

        <h3>Gantt Chart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```mermaid
gantt
    title Project Timeline
    dateFormat YYYY-MM-DD
    section Phase 1
    Design      :done, 2024-01-01, 30d
    Development :active, 2024-02-01, 60d
    section Phase 2
    Testing     :2024-04-01, 20d
    Deployment  :2024-04-21, 10d
```</pre>

        <h3>Pie Chart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```mermaid
pie title Market Share
    "Product A" : 42
    "Product B" : 28
    "Product C" : 30
```</pre>

        <h2>üìà Chart.js Visualizations</h2>
        <h3>Bar Chart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```chart
{
  "type": "bar",
  "data": {
    "labels": ["Q1", "Q2", "Q3", "Q4"],
    "datasets": [{
      "label": "Sales 2024",
      "data": [12, 19, 15, 25],
      "backgroundColor": "#007acc"
    }]
  }
}
```</pre>

        <h3>Line Chart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```chart
{
  "type": "line",
  "data": {
    "labels": ["Jan", "Feb", "Mar", "Apr"],
    "datasets": [{
      "label": "Revenue",
      "data": [65, 72, 81, 89],
      "borderColor": "#4ECDC4",
      "fill": false
    }]
  }
}
```</pre>

        <h3>Pie/Doughnut Chart</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```chart
{
  "type": "pie",
  "data": {
    "labels": ["Red", "Blue", "Yellow"],
    "datasets": [{
      "data": [300, 50, 100],
      "backgroundColor": ["#FF6384", "#36A2EB", "#FFCE56"]
    }]
  }
}
```

Types: bar, line, pie, doughnut, radar, polarArea</pre>

        <h2>üìÖ Timeline Visualization (Timesheet.js)</h2>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
```timesheet
{
  "sections": [
    {
      "name": "Development",
      "events": [
        {
          "name": "Backend API",
          "start": "2024-01-01",
          "end": "2024-03-01"
        },
        {
          "name": "Frontend UI",
          "start": "2024-02-01",
          "end": "2024-04-01"
        }
      ]
    },
    {
      "name": "Design",
      "events": [
        {
          "name": "Wireframes",
          "start": "2024-01-01",
          "end": "2024-01-15"
        }
      ]
    }
  ]
}
```</pre>

        <h2>üéØ Interactive Features</h2>
        <h3>‚úÖ Task Lists</h3>
        <p>Create interactive checkboxes with progress tracking:</p>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
- [ ] Task 1
- [x] Task 2 (completed)
- [ ] Task 3

‚ú® Click checkboxes in preview to toggle!
Shows progress bars automatically.</pre>

        <h3>üìä Interactive Tables</h3>
        <ul>
            <li><b>Sort:</b> Click column headers to sort (asc/desc/none)</li>
            <li><b>Filter:</b> Use search box to filter rows</li>
            <li><b>Export:</b> Click export button to save as CSV</li>
        </ul>

        <h3>üîÑ Bidirectional Editing</h3>
        <ul>
            <li>Click any heading, paragraph, or list in <b>Preview</b></li>
            <li>Editor automatically jumps to that line</li>
            <li>Visual highlight shows the location</li>
        </ul>

        <h3>üß† Mindmap Focus</h3>
        <ul>
            <li>Mindmap shows document structure as interactive diagram</li>
            <li>Click nodes to explore nested content</li>
            <li>Toggle focus mode to highlight active section</li>
            <li>Export as SVG or PNG</li>
        </ul>

        <h2>üé§ Presentation Mode</h2>
        <h3>Creating Slides</h3>
        <pre style="background: var(--bg-secondary); padding: 10px; border-radius: 4px;">
---
theme: black
---

# Slide 1 Title

Content here...

---

## Slide 2

- Point 1
- Point 2

---

## Slide 3

More content...</pre>
        <p><b>Separator:</b> Use <code>---</code> to split slides</p>
        <p><b>Themes:</b> black, white, league, sky, beige, serif, simple, solarized, night, moon</p>
        <p><b>Navigation:</b> Arrow keys, space bar, or on-screen controls</p>

        <h2>üíæ Export Formats</h2>
        <table style="width:100%; margin:10px 0;">
            <tr><td><b>Markdown (.md)</b></td><td>Plain text format</td></tr>
            <tr><td><b>HTML</b></td><td>Standalone web page with styles</td></tr>
            <tr><td><b>PDF (Preview)</b></td><td>Multi-page document from preview</td></tr>
            <tr><td><b>PDF (Slides)</b></td><td>One slide per page</td></tr>
            <tr><td><b>PowerPoint (.pptx)</b></td><td>Editable presentation</td></tr>
            <tr><td><b>DOCX</b></td><td>Word document format</td></tr>
            <tr><td><b>CSV</b></td><td>From interactive tables</td></tr>
        </table>

        <h2>üé® Themes</h2>
        <ul>
            <li><b>Dark:</b> Professional dark mode (VS Code style)</li>
            <li><b>Light:</b> Clean light theme</li>
            <li><b>Dracula:</b> Popular dark color scheme</li>
            <li><b>Nord:</b> Arctic-inspired palette</li>
            <li><b>Monokai:</b> Classic code editor theme</li>
        </ul>

        <h2>üí° Pro Tips</h2>
        <ul>
            <li>Use <b>Ctrl+S</b> frequently to save your work</li>
            <li>Organize files with folders and tags from the start</li>
            <li>Create presentation templates for reuse</li>
            <li>Use bidirectional editing to navigate large documents</li>
            <li>Export mindmaps as images for documentation</li>
            <li>Interactive tables work great with data from spreadsheets</li>
            <li>Use task lists for project management</li>
            <li>Fullscreen mode works on all panels (F11)</li>
        </ul>

        <h2>üîó Resources</h2>
        <ul>
            <li><a href="https://www.markdownguide.org/" target="_blank">Markdown Guide</a></li>
            <li><a href="https://mermaid.js.org/" target="_blank">Mermaid Documentation</a></li>
            <li><a href="https://www.chartjs.org/" target="_blank">Chart.js Documentation</a></li>
            <li><a href="https://revealjs.com/" target="_blank">Reveal.js (Presentations)</a></li>
        </ul>

        <div class="modal-actions">
            <button class="btn" onclick="app.closeModal()">Close</button>
        </div>
    </div>
</div>
